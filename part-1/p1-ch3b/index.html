<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.83.1" />
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>1.4: File System: Wildcards :: My New Hugo Site</title>

    
    <link href="/css/nucleus.css?1632053186" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1632053186" rel="stylesheet">
    <link href="/css/featherlight.min.css?1632053186" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1632053186" rel="stylesheet">
    <link href="/css/auto-complete.css?1632053186" rel="stylesheet">
    <link href="/css/theme.css?1632053186" rel="stylesheet">
    <link href="/css/tabs.css?1632053186" rel="stylesheet">
    <link href="/css/hugo-theme.css?1632053186" rel="stylesheet">
    
    <link href="/css/theme-blue.css?1632053186" rel="stylesheet">
    
    

    <script src="/js/jquery.min.js?1632053186"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/part-1/p1-ch3b/">
    <nav id="sidebar" class="">
  
  
  <div id="header-wrapper">
    <div id="header">
      <a id="logo"
  style="
    color: white;
    font-family: 'Novacento Sans Wide', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;
    font-size: 30px;
    font-weight: bold;
    margin-top: -2px;
  "
  href="/">
  <b style="font-size: 120%;">MK</b> &nbsp; <i class="fab fa-linux"></i> &nbsp; Linux  
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1632053186"></script>
<script type="text/javascript" src="/js/auto-complete.js?1632053186"></script>
<script type="text/javascript">
    
    
    var index_url="/index.json";
    var root_url="/";
    var baseUri=root_url.replace(/\/$/, '');
</script>
<script type="text/javascript" src="/js/search.js?1632053186"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href="/"><i class="fas fa-home"></i> Home</a>
        </li>
      </ul>
    </section>
  

  <div class="highlightable">
    <ul class="topics">
      
        
        





  
		
    
      
      
      <li data-nav-id="/part-0/" title="Setting the Stage" class="dd-item">
        <a href="/part-0/">
          <b>0. </b>
Setting the Stage

          
        </a>
        <ul>
          
          
          

          
            
            





  
		
    
      <li data-nav-id="/part-0/p0-ch1/" title="Acknowledgement" class="dd-item">
        <a href="/part-0/p0-ch1/">
          
Acknowledgement

          
        </a>
      </li>
    
  

            
          
        </ul>
      </li>
    
  

        
        





  
		
    
      
      
      <li data-nav-id="/part-1/" title="Getting Started" class="dd-item parent">
        <a href="/part-1/">
          <b>1. </b>
Getting Started

          
        </a>
        <ul>
          
          
          

          
            
            





  
		
    
      <li data-nav-id="/part-1/p1-ch1/" title="1.1: Introduction" class="dd-item">
        <a href="/part-1/p1-ch1/">
          
1.1: Introduction

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-1/p1-ch2/" title="1.2: Command Syntax" class="dd-item">
        <a href="/part-1/p1-ch2/">
          
Command Syntax

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-1/p1-ch3a/" title="1.3: File System: Basics" class="dd-item">
        <a href="/part-1/p1-ch3a/">
          
1.3: File System: Basics

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-1/p1-ch3b/" title="1.4: File System: Wildcards" class="dd-item active">
        <a href="/part-1/p1-ch3b/">
          
1.4: File System: Wildcards

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-1/p1-ch4/" title="1.5: Permission" class="dd-item">
        <a href="/part-1/p1-ch4/">
          
1.5: Permission

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-1/p1-ch5/" title="1.6: IO Redirection" class="dd-item">
        <a href="/part-1/p1-ch5/">
          
1.6: IO Redirection

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-1/p1-ch6/" title="1.7: Viewing Files" class="dd-item">
        <a href="/part-1/p1-ch6/">
          
1.7: Viewing Files

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-1/p1-ch7/" title="1.8: Data Manipulation" class="dd-item">
        <a href="/part-1/p1-ch7/">
          
1.8: Data Manipulation

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-1/p1-ch8/" title="1.9: Running Commands" class="dd-item">
        <a href="/part-1/p1-ch8/">
          
1.9: Running Commands

          
        </a>
      </li>
    
  

            
          
        </ul>
      </li>
    
  

        
        





  
		
    
      
      
      <li data-nav-id="/part-2/" title="Text Processing" class="dd-item">
        <a href="/part-2/">
          <b>2. </b>
Text Processing

          
        </a>
        <ul>
          
          
          

          
            
            





  
		
    
      <li data-nav-id="/part-2/p2-ch1/" title="2.1: Regular Expressions" class="dd-item">
        <a href="/part-2/p2-ch1/">
          
2.1: Regular Expressions

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-2/p2-ch2/" title="2.2: Vi Editor" class="dd-item">
        <a href="/part-2/p2-ch2/">
          
2.2: Vi Editor

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-2/p2-ch3/" title="2.3: Searching Text" class="dd-item">
        <a href="/part-2/p2-ch3/">
          
2.3: Searching Text

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-2/p2-ch4/" title="2.4: Text Substitution" class="dd-item">
        <a href="/part-2/p2-ch4/">
          
2.4: Text Substitution

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-2/p2-ch5/" title="2.4: AWK programming Language" class="dd-item">
        <a href="/part-2/p2-ch5/">
          
2.4: AWK programming Language

          
        </a>
      </li>
    
  

            
          
        </ul>
      </li>
    
  

        
        





  
		
    
      
      
      <li data-nav-id="/part-3/" title="Beyond the Basics" class="dd-item">
        <a href="/part-3/">
          <b>3. </b>
Beyond the Basics

          
        </a>
        <ul>
          
          
          

          
            
            





  
		
    
      <li data-nav-id="/part-3/p3-ch1/" title="3.1: Process Management" class="dd-item">
        <a href="/part-3/p3-ch1/">
          
3.1: Process Management

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-3/p3-ch2/" title="3.2: Scheduling Jobs" class="dd-item">
        <a href="/part-3/p3-ch2/">
          
3.2: Scheduling Jobs

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-3/p3-ch4/" title="3.3: Remote Access Commands" class="dd-item">
        <a href="/part-3/p3-ch4/">
          
3.3: Remote Access Commands

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-3/p3-ch3/" title="3.4: Archival commands" class="dd-item">
        <a href="/part-3/p3-ch3/">
          
3.4: Archival commands

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-3/p3-ch5/" title="3.5: The &#34;find&#34; Command" class="dd-item">
        <a href="/part-3/p3-ch5/">
          
3.5: The &#34;find&#34; Command

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-3/p3-ch6/" title="3.6: The &#34;xargs&#34; Command" class="dd-item">
        <a href="/part-3/p3-ch6/">
          
3.6: The &#34;xargs&#34; Command

          
        </a>
      </li>
    
  

            
          
        </ul>
      </li>
    
  

        
        





  
		
    
      
      
      <li data-nav-id="/part-4/" title="Shell Scripting" class="dd-item">
        <a href="/part-4/">
          <b>4. </b>
Shell Scripting

          
        </a>
        <ul>
          
          
          

          
            
            





  
		
    
      <li data-nav-id="/part-4/p4-ch1/" title="4.1: Introduction to Shell Scripts" class="dd-item">
        <a href="/part-4/p4-ch1/">
          
4.1: Introduction to Shell Scripts

          
        </a>
      </li>
    
  

            
          
        </ul>
      </li>
    
  

        
        





  
		
    
      
      
      <li data-nav-id="/part-5/" title="Appendix" class="dd-item">
        <a href="/part-5/">
          <b>9. </b>
Appendix

          
        </a>
        <ul>
          
          
          

          
            
            





  
		
    
      <li data-nav-id="/part-5/p5-ch1/" title="Commands Summary" class="dd-item">
        <a href="/part-5/p5-ch1/">
          
Commands Summary

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/part-5/p5-ch2/" title="Special Characters" class="dd-item">
        <a href="/part-5/p5-ch2/">
          
Special Characters

          
        </a>
      </li>
    
  

            
          
        </ul>
      </li>
    
  

        
      
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
            <li>
                <a class="padding" href="http://example.org/tags"><i class='fas fa-tags'></i> Tags</a>
            </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Linux Basics</a> > <a href='/part-1/'>Getting Started</a> > 1.4: File System: Wildcards
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#chapter-4">Chapter 4</a></li>
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#points-to-remember">Points to remember</a></li>
      </ul>
    </li>
    <li><a href="#wildcards">Wildcards</a>
      <ul>
        <li><a href="#brace-expansion-">Brace Expansion: <code>{...}</code></a></li>
      </ul>
    </li>
    <li><a href="#escaping-and-quoting">Escaping and Quoting</a>
      <ul>
        <li><a href="#escaping">Escaping</a></li>
        <li><a href="#quoting">Quoting</a></li>
      </ul>
    </li>
    <li><a href="#file-system-commands-part-ii">File System Commands: Part II</a>
      <ul>
        <li><a href="#cp--copy-files-and-directories"><code>cp</code> : copy files and directories</a></li>
        <li><a href="#mv--move-or-rename-files-and-directories"><code>mv</code> : move or rename files and directories</a></li>
        <li><a href="#rm--remove-files-and-directories"><code>rm</code> : remove files and directories</a></li>
        <li><a href="#unlink--remove-a-single-file"><code>unlink</code> : remove a single file</a></li>
        <li><a href="#du--display-disk-usage-statistics-of-files-and-directories"><code>du</code> : display disk usage statistics of files and directories</a></li>
        <li><a href="#df--display-free-and-used-disk-space"><code>df</code> : display free and used disk space</a></li>
        <li><a href="#ls--list-files-and-directories"><code>ls</code> : list files and directories</a></li>
        <li><a href="#dir--list-files-and-directories"><code>dir</code> : list files and directories</a></li>
      </ul>
    </li>
    <li><a href="#summary">Summary</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              1.4: File System: Wildcards
            </h1>
          

        


<h3 id="chapter-4">Chapter 4</h3>



<div class="notices warning">
    <div class="label">Warning</div>
    <p>This topic is still in progress
Please check later&hellip;</p>

</div>

<h3 id="introduction">Introduction</h3>
<p>In the previous chapter, <a href="/part-1/p1-ch3b">File System: Basics</a>, we have discussed the importance of file system and its use in storing, retrieving files and the metadata. We have also discussed about absolute and relative paths, the way to access files stored in the system and the first set of commands to create files, directories and links (shortcuts) and commands to list files and directories and get information about different type of files.</p>
<p>In this chapter, we will look into <strong>wildcards</strong>, a feature provided by shell to create patterns to match file and directories and more commands to perform operations such as copy, move, rename and delete files and directories, list contents of files and directories, get file usage statics and display used and free space of the disks attached to the system.</p>
<h3 id="points-to-remember">Points to remember</h3>
<ol>
<li>Linux treats everything that is stored in the system as <strong>file</strong></li>
<li>A <strong>directory</strong> is a special type of file that has references to other files and directories stored in it</li>
<li>File names that start with a <code>.</code> are called hidden files and we need options to display these files</li>
<li>The file system has a single entry point <code>/</code> aka the <strong>root directory</strong></li>
<li>There are two type of path names to refer files and directories; <strong>absolute</strong> and <strong>relative</strong> paths</li>
<li>Most of the commands are silent when executed successfully. We need to enable the verbose option <code>-v</code> or <code>--verbose</code> to get message about the activity</li>
</ol>
<h2 id="wildcards">Wildcards</h2>
<p>Wildcards are the shell feature that allows us to create patterns that can be used as argument in place where files or directories are expected. The pattern may match zero or more files thus helping us reduce the typing and avoid mistakes</p>
<table>
<thead>
<tr>
<th>Wildcard</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>represents zero or more characters</td>
</tr>
<tr>
<td><code>?</code></td>
<td>represent any one character</td>
</tr>
<tr>
<td><code>[abc]</code></td>
<td>any one of the listed characters</td>
</tr>
<tr>
<td><code>[^abc]</code></td>
<td>any one <strong>ASCII</strong> character other than the listed characters</td>
</tr>
<tr>
<td><code>[!abc]</code></td>
<td>same as <code>[^abc]</code></td>
</tr>
<tr>
<td><code>[a-z]</code></td>
<td>any one of the lowercase alphabet; <code>-</code> represents range</td>
</tr>
<tr>
<td><code>[^a-z]</code></td>
<td>any one character other than the lowercase alphabet</td>
</tr>
<tr>
<td><code>[!a-z]</code></td>
<td>same as <code>[^a-z]</code></td>
</tr>
<tr>
<td><code>[[class]]</code></td>
<td>matches a group of characters referred by the <strong>class</strong> name</td>
</tr>
</tbody>
</table>
<p><strong>Common character groups: <code>[[class]]</code></strong></p>
<blockquote>
<p>The class name is a placeholder for a single character from the character set</p>
</blockquote>
<p>|Class|Description|
|<code>[:alpha:]</code> |upper and lowercase alphabet|
|<code>[:lower:]</code> |lowercase alphabet|
|<code>[:upper:]</code> |uppercase alphabet|
|<code>[:digit:]</code> |numbers: 0-9|
|<code>[:xdigit:]</code> |hexadecimal numbers: 0-9A-Fa-f|
|<code>[:alnum:]</code> |alphabets and numbers 0-9A-Za-z|
|<code>[:space:]</code> |space, tab, newline, carriage return and vertical tab|</p>
<p><strong>Wildcard Examples:</strong></p>
<ul>
<li><code>*.txt</code> : any file that ends with <code>.txt</code> that has <strong>Zero or more characters prefix</strong>; <code>.txt</code>, <code>a.txt</code>, <code>sample_file.txt</code>,&hellip;</li>
<li><code>a?.txt</code> : any file that starts with an <code>a</code> followed by <strong>only one character</strong> and ends with <code>.txt</code>; <code>a1.txt</code>, <code>az.txt</code>, <code>a@.txt</code>,&hellip;</li>
<li><code>[aeiou][0-9].txt</code> : any file that starts with a <strong>lowercase vowel</strong> followed by a <strong>number</strong>; <code>a1.txt</code>, <code>z9.txt</code>, &hellip;</li>
<li><code>[aeiou][^has 0-9].txt</code> : any file that starts with a <strong>lowercase vowel</strong> followed by a <strong>non-number</strong> character; <code>aX.txt</code>, <code>zZ.txt</code>, &hellip;</li>
<li><code>[[:xdigit:]][:xdigit:]][[:digit:]]</code>: files that are <strong>three character long</strong>, first 2 chars are <strong>hexadecimal digits</strong> <code>0-9A-Fa-f</code> and one <strong>number</strong> <code>0-9</code>; <code>ff9</code>, <code>ef3</code>, <code>bc4</code></li>
</ul>
<h3 id="brace-expansion-">Brace Expansion: <code>{...}</code></h3>
<p>There is another special character set called the <em>brace expansion</em> that is used as wildcard. This is not used to create patterns to match existing files and directories, instead it can be used to generate combination of text patterns.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>A{op1,op2,op3}Z</code></td>
<td>creates 3 strings with prefix + {each option} + suffix</td>
</tr>
<tr>
<td><code>{1..10}</code></td>
<td>generates number between 1-10, both inclusive</td>
</tr>
<tr>
<td><code>{01..100}</code></td>
<td>generated <code>001 002 003 ... 100</code> in latest BASH versions;</td>
</tr>
</tbody>
</table>
<blockquote>
<p>if <strong>brace expansion</strong> is used in commands that expects actual files and directories as arguments, the commands will produce file not found error for text generated that are not the name of existing files; <code>rmdir</code> command for example</p>
</blockquote>
<p><strong>Brace Expansion Examples:</strong></p>
<ul>
<li><code>echo sample.{csv,txt,dat}</code> will display <code>sample.txt</code>, <code>sample.csv</code> and <code>sample.dat</code></li>
<li><code>touch sample.{csv,txt,dat}</code> will create there empty files named <code>sample.txt</code>, <code>sample.csv</code> and <code>sample.dat</code></li>
<li><code>echo {a,x,z}{1..3}</code> will display <code>a1 a2 a3 x1 x2 x3 z1 z2 z3</code></li>
<li><code>mkdir -pv 20{20,21}/{01..12}/{01..31}</code> creates nested directories; <code>2020</code> and <code>2021</code> as top-level directories and each directory contains 12 directories for months <code>01-12</code> and each month has 31 directories for days <code>01-31</code>. This command creates around <strong>750+</strong> directories in one go</li>
</ul>
<blockquote>
<p>if the <strong>Bash version</strong> is less than 4.x <code>echo $BASH_VERSION</code> then the month and date may not have leading zeroes for values <code>1-9</code></p>
</blockquote>
<h2 id="escaping-and-quoting">Escaping and Quoting</h2>
<p>Since the <strong>shell</strong> has special meanings for certain characters such as the ones used in wildcards, we need a mechanism to pass these characters as-is without special meanings. We need a way to decide when to use these characters to represent the special meanings and when to use as-it-is. There are two ways to accomplish this</p>
<h3 id="escaping">Escaping</h3>
<p>Unix supports escape-sequences like <code>\t</code>, <code>\n</code> for TAB and newline. Here adding backslash character (<code>\</code>) in front of <code>t</code> provides the special meaning TAB. We can use the backslash to accomplish the opposite; that is, adding a backslash in front of the special character to inform the shell to treat the character as-it-is.</p>
<p>For example, if we pass the <code>*</code> as argument to the <code>echo</code> command, the shell expands the <code>*</code> to file list in the current working directory and passes it to <code>echo</code> that makes echo print all the files. If we escape <code>*</code> as <code>\*</code> then <code>echo</code> will treat <code>*</code> as <code>*</code> itself.</p>
<pre><code>$ echo *
files      hfs

$ echo \*
*

# not what we wanted
$ echo 5 * review
5 files hfs reviews

$ echo 5 \* reviews
5 * reviews

$ echo a?*
a file with spaces.txt another file with spaces.txt
$ echo 'a?*'a?*
</code></pre><h3 id="quoting">Quoting</h3>
<p>There are times where we need to keep space separated words a one single entity instead of list of words since <strong>shell</strong> uses <strong>space</strong> as a delimiter to split commands, options and arguments. . For example, we want to pass a sentence to some script as a single argument, we need to wrap the sentence with something to keep the text intact. We can accomplish this using the <strong>quotes</strong>. In fact, Unix systems support there type of quotes.</p>
<ol>
<li>Double quotes or weak quotes</li>
<li>Single quotes or strong quotes</li>
<li>Backticks or command substitution</li>
</ol>
<p><strong>Double quotes</strong>
The shell interpolates the wildcards and special characters such as <code>$</code>, <code>!</code>, <code>\</code> and escape sequences <code>\t</code>, <code>\n</code> etc.. Since it does not keep all the characters as-they-are, the double quote is also called <em>weak quotes</em>.</p>
<p>The <code>$</code> symbol is used as a prefix in <strong>shell variables</strong>. If a variable is enclosed inside double-quotes, the value will be substituted. We can escape the <code>$</code> as <code>\$</code> to prevent the interpolation of variables.</p>
<pre><code>echo &quot;\$USER: $USER&quot;
$USER: mbose

# !! refers to the last command executed
#    !! will be substituted with the last command 
#    Shell will display the expansion before running the command
$ echo &quot;!!&quot;
echo &quot;echo &quot;\$USER: $USER&quot;&quot;
echo $USER: mbose
</code></pre><p>In order to create file with special characters like spaces, <code>*</code> in its name, we either need to wrap it inside single or double quotes. The same rules apply when we use these file names as arguments.</p>
<pre><code>$ touch &quot;a file with spaces.txt&quot;
$ touch another\ file\ with\ spaces.txt
$ ls
'a file with spaces.txt'  'another file with spaces.txt'

$ file a\ file\ with\ spaces.txt
a file with spaces.txt: empty
$ file 'a file with spaces.txt'a file with spaces.txt: empty
</code></pre><p><strong>Single quotes</strong></p>
<p>Wrapping the text using <em>single quotes</em> also known as <em>strong quote</em> suppresses the special meaning of any wildcard, special characters. This is the safest way to quote text. The only restriction is that we cannot have a single-quote inside the text that is wrapped with a pair of single quotes.</p>
<blockquote>
<p>The <strong>GNU Bash Manual</strong> states that &lsquo;a single quote may not occur between single quotes, even when escaped with a slash <code>\'</code> it will cause error</p>
</blockquote>
<pre><code>$ echo 'Hello $USER'
Hello $USER

$ echo &quot;Hello $USER&quot;
Hello mbose
</code></pre><p><strong>Backticks</strong>
There is another special set of quotes that is rarely used called <em>backticks</em> that is found under the <strong>ESC</strong> key. This set of quotes are used for <strong>command substitution</strong>, that is, the content inside the backticks will be treated and executed as command and the outcome will be replaced by the actual command. The <em>backticks</em> quoted string can be nested within double quotes without losing its special meaning.</p>
<blockquote>
<p>The old way of enabling command substitution is by wrapping the command with a pair of``. However it is recommended to use <code>$()</code> instead of <em>backticks</em></p>
</blockquote>
<pre><code>$ echo &quot;Today is date&quot;
Today is date

$ echo &quot;Today is `date`&quot;
Today is Wed Jul 14 21:18:16 IST 2021

# use $(..) instead of ``
$ echo &quot;Today is $(date)&quot;
Today is Wed Jul 14 21:18:16 IST 2021

</code></pre><h2 id="file-system-commands-part-ii">File System Commands: Part II</h2>
<table>
<thead>
<tr>
<th>#</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>cp</code></td>
<td>copy files and directories</td>
</tr>
<tr>
<td>2</td>
<td><code>mv</code></td>
<td>rename or move files and directories</td>
</tr>
<tr>
<td>3</td>
<td><code>rm</code></td>
<td>remove files and directories with contents</td>
</tr>
<tr>
<td>4</td>
<td><code>unlink</code></td>
<td>remove single file. a simple version of <code>rm</code></td>
</tr>
<tr>
<td>5</td>
<td><code>ls</code></td>
<td>list files and directories</td>
</tr>
<tr>
<td>6</td>
<td><code>dir</code></td>
<td>list files and directories; same as <code>ls -C</code></td>
</tr>
<tr>
<td>7</td>
<td><code>du</code></td>
<td>display the disk usage info of a file or a directory</td>
</tr>
<tr>
<td>8</td>
<td><code>df</code></td>
<td>display free and used space from available hard disks</td>
</tr>
</tbody>
</table>
<h3 id="cp--copy-files-and-directories"><code>cp</code> : copy files and directories</h3>
<p>The <code>cp</code> command is used to <strong>copy</strong> one or more files and directories. This command can be used to take backups of existing files. The backup will have the timestamps of the copy operations by default. We have options to copy the metadata of the original file along with the contents.</p>
<p><strong>WARNING</strong>: The <code>cp</code> command automatically overrides if the file we are copying has another file in the destination with a same name</p>
<blockquote>
<p>The below 3 options works the same for <code>cp</code>, <code>mv</code> and <code>rm</code> commands</p>
</blockquote>
<table>
<thead>
<tr>
<th>Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-v</code></td>
<td>verbose mode, display messages about the action</td>
</tr>
<tr>
<td><code>-f</code></td>
<td>force operations, if possible</td>
</tr>
<tr>
<td><code>-i</code></td>
<td>interactive mode, ask before performing the action</td>
</tr>
</tbody>
</table>
<p><strong>Other options</strong></p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-p</code></td>
<td>preserve metadata of source file; owner, timestamp, permissions,..</td>
</tr>
<tr>
<td><code>--parents</code></td>
<td>create full path including directories under the destination</td>
</tr>
<tr>
<td><code>-R</code></td>
<td>recursive copy of directories</td>
</tr>
<tr>
<td><code>-r</code></td>
<td>same as <code>-R</code></td>
</tr>
</tbody>
</table>
<p><strong>Setup Sample Files and Directories for Demo</strong></p>
<pre><code>$ mkdir cp_mv_rm
$ cd  cp_mv_rm
$ touch sample_{1..3}.txt
$ mkdir backup
$ tree
.
├── backup
├── sample_1.txt
├── sample_2.txt
└── sample_3.txt
</code></pre><p><strong>Copy Demo</strong></p>
<pre><code># copy file silently
$ cp sample_1.txt backup
$ tree backup/
backup/
└── sample_1.txt

# cp -v: copy with verbose mode on 
$ cp -v sample_2.txt backup/
'sample_2.txt' -&gt; 'backup/sample_2.txt'
</code></pre><p><strong>Preserve file metadata while copying files</strong></p>
<pre><code># cp: with and without preserve metadata
$ cp sample_1.txt s1a.txt
$ cp -p sample_1.txt s1b.txt

# more on `ls -l` later
#  s1b.txt and sample_1.txt has same timestamp: -p effect
#  s1a.txt has the timestamp at the time of copying
$ ls -l 
-rw-r--r-- 1 mbose admin    0 Jul 10 15:30 s1a.txt
-rw-r--r-- 1 mbose admin    0 Jul 10 15:24 s1b.txt
-rw-r--r-- 1 mbose admin    0 Jul 10 15:24 sample_1.txt
</code></pre><p><strong>Create source file&rsquo;s directories inside the target before copy</strong></p>
<pre><code># cp --parents : copy full path
$ mkdir -pv data/input
mkdir: created directory 'data'
mkdir: created directory 'data/input'
$ touch data/input/demo.csv
$ tree data
data
└── input
    └── demo.csv

$ cp -v data/input/demo.csv backup
'data/input/demo.csv' -&gt; 'backup/demo.csv'

# this run creates the entire path
$ cp -v --parents data/input/demo.csv backup
data -&gt; backup/data
data/input -&gt; backup/data/input
'data/input/demo.csv' -&gt; 'backup/data/input/demo.csv'

# the 1st cp command copied demo.csv under backup
# the 2nd cp copied created data/input and copied the file
$ tree
.
├── backup
│   ├── data
│   │   └── input
│   │       └── demo.csv
│   ├── demo.csv
├── data
    └── input
        └── demo.csv
</code></pre><p><strong>Recursive copy</strong></p>
<pre><code>$ mkdir latest

# copy fails
$ cp data latest/
cp: -r not specified; omitting directory 'data'
$ tree latest/
latest/

# recursive copy
$ cp -Rv data latest/
'data' -&gt; 'latest/data'
'data/input' -&gt; 'latest/data/input'
'data/input/demo.csv' -&gt; 'latest/data/input/demo.csv'
</code></pre><h3 id="mv--move-or-rename-files-and-directories"><code>mv</code> : move or rename files and directories</h3>
<p>The <code>mv</code> command can be used either move files from one location to another or rename files</p>
<pre><code>$ cd cp_mv_rm
$ tree
.
├── backup
...
├── sample_1.txt
├── sample_2.txt
└── sample_3.txt

# move file sample_3.txt from current dir to backup
$ mv -v sample_3.txt backup/
renamed 'sample_3.txt' -&gt; 'backup/sample_3.txt'
$ tree
.
├── backup
│   └── sample_3.txt
...
├── sample_1.txt
└── sample_2.txt

# renaming files within same directory
$ mv -v sample_1.txt sample_1.csv
renamed 'sample_1.txt' -&gt; 'sample_1.csv'

# we can rename directories too
$ mv -v latest now
renamed 'latest' -&gt; 'now'
</code></pre><h3 id="rm--remove-files-and-directories"><code>rm</code> : remove files and directories</h3>
<p>The <code>rm</code> command is used to delete files and directories that are not empty.</p>
<p><strong>Common Options</strong>: <code>-v</code>, <code>-f</code>, <code>-i</code> - same as <code>cp</code> and <code>-r</code> is recursive delete that is used to remove directories with contents by emptying the contents first and finally deleting the directory itself</p>
<p><strong>WARNING 1</strong>: Unlike Windows, we do not have <strong>Recycle Bin</strong> in Linux and once deleted the files are gone. Please exercise caution while using <code>rm</code></p>
<p><strong>WARNING 2</strong>: Use <code>rm -r DIR</code> with caution as it will wipe out the entire contents. Extra caution is needed when the DIR has wildcards</p>
<p><strong>TIPS</strong>: Use the <code>ls</code> command with recursion option <code>ls -R</code> with same argument for <code>rm -r</code> first, verify the list before actually running <code>rm -r</code></p>
<pre><code>$ cd cp_mv_rm
# remove a file: success
$ rm -v sample_1.csv
removed 'sample_1.csv'

# remove a read-only file: we can say `y` or use -f to delete
$ rm -v sample_2.txt
rm: remove write-protected regular empty file 'sample_2.txt'? n
$ rm -vf sample_2.txt
removed 'sample_2.txt'

# remove directory that are not empty
$ rm -rv data/
removed 'data/input/demo.csv'
removed directory 'data/input'
removed directory 'data/'
</code></pre><h3 id="unlink--remove-a-single-file"><code>unlink</code> : remove a single file</h3>
<p>This is a simple version of <code>rm</code> that accepts an actual file name as argument and deletes that file. If argument is a wildcard or directory, <code>unlink</code> will error out.</p>
<pre><code>$ mkdir data
$ touch a{1..3}.txt
$ ls
a1.txt  a2.txt  a3.txt  data

# delete a1.txt: success
$ unlink a1.txt
$ ls
a2.txt  a3.txt  data
</code></pre><p><strong>Errors: wildcards and directories are not valid arguments</strong></p>
<pre><code># delete directory: error
$ unlink data
unlink: cannot unlink 'data': Is a directory

# delete multiple files: error 
$ unlink a*
unlink: extra operand ‘a3.txt’
</code></pre><h3 id="du--display-disk-usage-statistics-of-files-and-directories"><code>du</code> : display disk usage statistics of files and directories</h3>
<p>The <code>du</code> command displays the size occupied by a given file or directory passed as argument or current working directory is used as default.</p>
<p>If the argument is a directory, the <code>du</code> command displays the size of all its sub-directories and files by default. Options are available to get summary statistics alone</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-s</code></td>
<td>display summary only</td>
</tr>
<tr>
<td><code>-h</code></td>
<td>display size in human readable form - K, M,.. for KB, MB,..</td>
</tr>
<tr>
<td><code>-d N</code></td>
<td>consider <code>N</code> level of subdirectories only</td>
</tr>
<tr>
<td><code>-b</code></td>
<td>consider actual byte size, usually smaller than used size</td>
</tr>
</tbody>
</table>
<pre><code># size of all directories
$ du
4       ./data/input
8       ./data
4       ./temp/data
8       ./temp
4       ./config/db
8       ./config
4       ./shortcuts
36      .

# just the summary
$ du
36      .

# actual vs used size of files
# actual size: won't consider holes in a spare file
$ du -b -h sample.txt
1.0K    sample.txt

# used size
$ du -h sample.txt
4.0K    sample.txt
</code></pre><p><strong>Real life use cases</strong></p>
<pre><code># overall size of current user's home directory
$ du -sh ~
540M    /home/mbose

# run as admin: all user's home directories
cd /home
$ sudo du -d 1 -h
400M    ./admin
70M     ./hradmin
30M     ./lost+found
350M    ./mbose
100M    ./mk
150M    ./dbauser
150M    ./awsuser
1G      ./itadmin
2.2G    .
</code></pre><h3 id="df--display-free-and-used-disk-space"><code>df</code> : display free and used disk space</h3>
<p>The <code>df</code> command displays the total, used and available spaces and used percentage of all disks in the system. The most commonly used option is <code>-h</code> to print size in human readable format as in KB, MB, GB etc&hellip;</p>
<pre><code>$ df -h
Filesystem  Size  Used  Avail  Use%  Mounted on
overlay     60G   44G   17G    73%   /
tmpfs       64M   0     64M    0%    /dev
tmpfs       3.9G  0     3.9G   0%    /sys/fs/cgroup
/dev/sda1   60G   44G   17G    73%   /root
/dev/root   2.0G  1.2G  820M   59%   /lib/modules
shm         64M   0     64M    0%    /dev/shm
</code></pre><h3 id="ls--list-files-and-directories"><code>ls</code> : list files and directories</h3>
<p>The <code>ls</code> command is used to list the files and directories of the current working directory by default. It can accept a file, directory or a wildcard. This is one of the most versatile beginner level commands the we will encounter. The <code>ls</code> command has probably 40-50 different options to control the way the command list the files.</p>
<p>This very basic information we get from the <code>ls</code> command is the file and directory names sorted in alphabetic order. In addition to the name, the options enable the <code>ls</code> to control the format of the display and what other metadata about the files can be displayed. Common metadata include</p>
<ul>
<li>file type</li>
<li>permission settings</li>
<li>owner</li>
<li>group the owner belongs to</li>
<li>file size</li>
<li>modification timestamp</li>
</ul>
<p>** The permission, owner and group metadata will be discussed in the future chapter on <strong>Permissions</strong>.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-1</code></td>
<td>display one file per row; default is columnar display</td>
</tr>
<tr>
<td><code>-a</code></td>
<td>display hidden files;  <code>--all</code></td>
</tr>
<tr>
<td><code>-A</code></td>
<td>display hidden files but discard <code>.</code> and <code>..</code></td>
</tr>
<tr>
<td><code>-F</code></td>
<td>append a unique character at the end to identify file types</td>
</tr>
<tr>
<td><code>-i</code></td>
<td>display <strong>inode</strong>, a unique number for each file</td>
</tr>
<tr>
<td><code>-l</code></td>
<td>long list: permission, file type, size, owner etc..</td>
</tr>
<tr>
<td><code>-t</code></td>
<td>sort by modification time, newest first</td>
</tr>
<tr>
<td><code>-S</code></td>
<td>sort by file size, largest first</td>
</tr>
<tr>
<td><code>-h</code></td>
<td>display file size in human-readable form; K, M, G, T etc..</td>
</tr>
<tr>
<td><code>-r</code></td>
<td>reverse sorting, used along with <code>-S</code> or <code>-t</code></td>
</tr>
<tr>
<td><code>-R</code></td>
<td>recursively list contents of sub-directories</td>
</tr>
</tbody>
</table>
<p>For this demo, I have created files with different sizes. I have also copied files with different timestamps using <code>cp --preserve</code> option.</p>
<p><strong>Setup sample files, directories, links,&hellip;</strong></p>
<pre><code># create sample files, dirs, links under &quot;ls_demo&quot;
$ touch sample.txt demo.csv names.txt backup.zip
$ mkdir data temp config
$ ln -s config cfg
$ cp ~/bin/main.sh .

# hidden file
$ touch .gitignore  
</code></pre><p><strong>Simple listings: no options, <code>-1</code>, <code>-a</code>, <code>-A</code> and <code>-F</code></strong></p>
<p>Every directory has two entries; <code>.</code> and <code>..</code> that refers to the current directory and the parent directory respectively. These entries are not visible by default as Unix treats everything that starts with <code>.</code> as hidden files. If you recollect, these two are used in relative paths as well.</p>
<pre><code># ls: current dir as arg, list in alphabetical order, columnar
$ ls
backup.zip  cfg        config      data   demo.csv    
main.sh     names.txt  sample.txt  temp

# ls -1: one entry per line
backup.zip
cfg
config
data
demo.csv
names.txt
sample.txt
temp

# ls -a: display hidden files
#   . and .. are references to current and parent dirs
$ ls -a
.           ..         backup.zip  cfg       config      
data        demo.csv   .gitignore  main.sh   names.txt  
sample.txt  temp

# ls -A : same as -a, discards . and .. 
$ ls -A
backup.zip  cfg       config      data        demo.csv   .gitignore  main.sh   names.txt   sample.txt  temp
 
# ls -F: mark `/, @, *` suffix for dir, link and executable
$ ls -F
backup.zip  cfg@       config/     data/   demo.csv    
main.sh*    names.txt  sample.txt  temp/

</code></pre><p>So far, we have seen just the file names being displayed and the options to control what is included and adding symbols to highlight file types. The following examples will display more than just the file names.</p>
<p><strong>Display inode - an unique number allocated to each file</strong></p>
<blockquote>
<p>The <strong>inode</strong> also known as <strong>index node</strong> is a data structure that stores file attributes and is referred by an unique integer</p>
</blockquote>
<pre><code># display inode and file name, one per line
$ ls -1i
131218 backup.zip
131222 cfg
...
...
131214 names.txt
131209 sample.txt
131220 temp
</code></pre><p><strong>Display metadata of files, sorted alphabetically</strong></p>
<table>
<thead>
<tr>
<th>Col</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>file type (byte 1), Permission (bytes 2-10)</td>
</tr>
<tr>
<td>2</td>
<td>number of references, files usually 1, dirs has number of subdirectories including <code>.</code> and <code>..</code></td>
</tr>
<tr>
<td>3</td>
<td>owner of the file</td>
</tr>
<tr>
<td>4</td>
<td>group of the owner</td>
</tr>
<tr>
<td>5</td>
<td>file size</td>
</tr>
<tr>
<td>6</td>
<td>Month in <code>mmm</code> format</td>
</tr>
<tr>
<td>7</td>
<td>day of the month</td>
</tr>
<tr>
<td>8</td>
<td>time in HH:MM for files less than one year old</td>
</tr>
<tr>
<td></td>
<td>year in YYYY format for files more than one year old</td>
</tr>
<tr>
<td>9</td>
<td>file name</td>
</tr>
</tbody>
</table>
<pre><code># the -l aka long option displays file type, permission
# owner, group, file size, modified timestamp and file name
-rw-r--r-- 1 mbose admin    0 Jul 11 06:24 backup.zip
lrwxrwxrwx 1 mbose admin    6 Jul 11 06:25 cfg -&gt; config
drwxr-xr-x 2 mbose admin 4096 Jul 11 06:24 config
...
...
-rw-r--r-- 1 mbose admin    0 Jul 11 06:24 sample.txt
drwxr-xr-x 2 mbose admin 4096 Jul 11 06:24 temp
</code></pre><p><strong>Sort by modification timestamp <code>-t</code> and file size <code>-S</code></strong></p>
<p>For this demo, we need to use the <code>-l</code> option to compare the sorted order.</p>
<pre><code># sort by size descending
$ ls -lS
drwxr-xr-x 2 mbose admin 4096 Jul 11 06:24 config
drwxr-xr-x 3 mbose admin 4096 Jul 11 11:51 data
drwxr-xr-x 2 mbose admin 4096 Jul 11 06:24 temp
lrwxrwxrwx 1 mbose admin   10 Jul 11 11:52 backup -&gt; backup.zip
lrwxrwxrwx 1 mbose admin    6 Jul 11 06:25 cfg -&gt; config
-rw-r--r-- 1 mbose admin    0 Jul 11 06:24 backup.zip

# sort by modification timestamp descending
#   set timestamp manually, current timestamp for backup.zip
$ touch -d &quot;5 months ago&quot; main.sh
$ touch backup.zip

$ ls -lt
-rw-r--r-- 1 mbose admin    0 Jul 11 12:12 backup.zip
lrwxrwxrwx 1 mbose admin   10 Jul 11 11:52 backup -&gt; backup.zip
drwxr-xr-x 3 mbose admin 4096 Jul 11 11:51 data
...
...
-rw-r--r-- 1 mbose admin    0 Jul 11 06:24 sample.txt
-rwxr-xr-x 1 mbose admin    0 Feb 11 12:12 main.sh
-rw-r--r-- 1 mbose admin    0 Jan  9  2021 names.txt
</code></pre><p><strong>Reverse sort <code>-t</code></strong></p>
<pre><code>$ ls -ltr
-rw-r--r-- 1 mbose admin    0 Jan  9  2021 names.txt
-rwxr-xr-x 1 mbose admin    0 Feb 11 12:12 main.sh
-rw-r--r-- 1 mbose admin    0 Jul 11 06:24 sample.txt
-rw-r--r-- 1 mbose admin    0 Jul 11 06:24 demo.csv
...
</code></pre><h3 id="dir--list-files-and-directories"><code>dir</code> : list files and directories</h3>
<p>The <code>dir</code> command performs same actions as the <code>ls</code> command and it may be suitable for people who have come from Windows environment. This command is not available in many OS versions; For example, the <strong>Mac systems</strong> doesn&rsquo;t have the <code>dir</code> command. If your system has the <code>dir</code> command, you can use the <code>ls</code> demo to practice on your own.</p>
<h2 id="summary">Summary</h2>
<p>In this chapter, we have discussed about the file system and its use in storing and retrieving files and directories. We have also discussed about the absolute and relative paths, wild cards and finally saw practical examples of 15 commands that are used to create and manipulate files and directories, get file lists and usage statistics.</p>



<footer class="footline">
    
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        
        
            
                <a class="nav nav-prev" href="/part-1/p1-ch3a/" title="1.3: File System: Basics"><i class="fa fa-chevron-left"></i></a>
            
            
                <a class="nav nav-next" href="/part-1/p1-ch4/" title="1.5: Permission"><i class="fa fa-chevron-right"></i></a>
            
        
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1632053186"></script>
    <script src="/js/perfect-scrollbar.min.js?1632053186"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1632053186"></script>
    <script src="/js/jquery.sticky.js?1632053186"></script>
    <script src="/js/jquery.svg.pan.zoom.js?1632053186"></script>
    <script src="/js/featherlight.min.js?1632053186"></script>
    <script src="/js/modernizr.custom-3.6.0.js?1632053186"></script>
    
        
            <script src="/js/mermaid.min.js?1632053186"></script>
        
        
            
        
        <script>
            if (mermaid) {
                mermaid.mermaidAPI.initialize( Object.assign( { "securityLevel": "antiscript" }, JSON.parse("{ \"startOnLoad\": true }"), { startOnLoad: false } ) );
            }
        </script>
    
    <script src="/js/relearn.js?1632053186"></script>
    

  </body>
</html>

